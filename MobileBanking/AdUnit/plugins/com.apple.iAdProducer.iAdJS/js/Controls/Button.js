
/**
*
* Copyright Â© 2009-2011 Apple Inc.  All rights reserved.
*
**/

iAd.Class({name:"iAd.Button",superclass:iAd.Control,synthesizedProperties:["currentTitle","autosized"],archivedProperties:["autoSized","type","titles"],excludedProperties:["subviews"],cssClassName:"ad-button",collectionAccessor:"buttons"});iAd.Button.TYPE_CUSTOM="ad-custom-type";iAd.Button.TYPE_ROUNDED_RECT="ad-rounded-rect-type";iAd.Button.TYPE_DETAIL_DISCLOSURE="ad-detail-disclosure-type";iAd.Button.TYPE_INFO_LIGHT="ad-info-light-type";iAd.Button.TYPE_INFO_DARK="ad-info-dark-type";iAd.Button.TYPE_CONTACT_ADD="ad-contact-add-type";iAd.Button.DEFAULT_HEIGHT=37;iAd.Button.prototype.init=function(a,b){this.type=b||iAd.Button.TYPE_ROUNDED_RECT;this._autosized=true;this.titles=[""];this.titleLabel=null;this.callSuper(a)};iAd.Button.restoreFromArchive=function(a){return new this(null,a.type)};iAd.Button.prototype.initWithDeclarativeBacking=function(){this.callSuper();if(this.layer.hasClassName(iAd.Button.TYPE_ROUNDED_RECT)){this.type=iAd.Button.TYPE_ROUNDED_RECT}else{if(this.layer.hasClassName(iAd.Button.TYPE_CUSTOM)){this.type=iAd.Button.TYPE_CUSTOM}}this.layer.addClassName(this.type)};iAd.Button.prototype.createLayer=function(){this.callSuper();this.layer.addClassName(this.type)};iAd.Button.prototype.layerWasCreated=function(){this.callSuper();if(this.type===iAd.Button.TYPE_ROUNDED_RECT||this.type===iAd.Button.TYPE_CUSTOM){this.titleLabel=this.addSubview(new iAd.Label())}this.syncTitleToState();this.addPropertyObserver("state",this,"syncTitleToState")};iAd.Button.prototype.setValueForAttribute=function(b,a){switch(a){case"ad-title-for-normal-state":this.setTitleForState(b,iAd.Control.STATE_NORMAL);break;case"ad-title-for-highlighted-state":this.setTitleForState(b,iAd.Control.STATE_HIGHLIGHTED);break;case"ad-title-for-disabled-state":this.setTitleForState(b,iAd.Control.STATE_DISABLED);break;case"ad-title-for-selected-state":this.setTitleForState(b,iAd.Control.STATE_SELECTED);break;default:this.callSuper(b,a)}};iAd.Button.prototype.getSize=function(){var a=window.getComputedStyle(this.layer);return new iAd.Size(parseInt(a.width),parseInt(a.height))};iAd.Button.prototype.setSize=function(a){this._autoSized=false;this.callSuper(a)};iAd.Button.prototype.getCurrentTitle=function(){if(this.titleLabel==null){return null}return this.titleLabel.text};iAd.Button.prototype.setAutosized=function(a){if(a){this.setLayerStyle({width:"auto",height:iAd.Button.DEFAULT_HEIGHT+"px"})}this._autosized=a};iAd.Button.prototype.titleForState=function(a){return this.titles[a]||null};iAd.Button.prototype.setTitleForState=function(b,a){this.titles[a]=b;if(a==this.state){this.syncTitleToState()}};iAd.Button.prototype.syncTitleToState=function(){if(this.titleLabel==null){return}this.titleLabel.text=this.titles[this.state]||this.titles[iAd.Control.STATE_NORMAL]};