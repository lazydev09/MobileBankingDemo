
/**
*
* Copyright Â© 2009-2011 Apple Inc.  All rights reserved.
*
**/

iAd.Class=function(b){if(typeof b==="string"){b={name:b}}b=b||{};b.symbol=b.symbol===undefined?b.name:b.symbol;b.name=b.name||"AnonymousClass";if(!b.superclass){if("superclass" in b){throw new ReferenceError("An undefined superclass was provided for "+b.name)}else{if(iAd.Object){b.superclass=iAd.Object}}}var e=function(){if(!e.processed){iAd.Class.processAllClasses()}e.prototype.init.apply(this,arguments)};e.processed=false;iAd.Class.unprocessedClasses.push(e);e.displayName=e._name=b.name;iAd.Utils.copyPropertiesFromSourceToTarget(b,e);if(b.symbol&&typeof b.symbol==="string"){var d=b.symbol.split("."),c=d.pop(),a=d.length?iAd.Utils.resolveObjectPath(d.join("."),true):window;if(a){a[c]=e}}return e};iAd.Class.unprocessedClasses=[];iAd.Class.processAllClasses=function(){var c;for(var a=0,b=iAd.Class.unprocessedClasses.length;a<b;a++){c=iAd.Class.unprocessedClasses[a];if(!c.processed){iAd.Class.processClassAndHierarchy(c)}}iAd.Class.unprocessedClasses=[]};iAd.Class.processClassAndHierarchy=function(f){var e=[f];var b=f;while(b=b.superclass){e.push(b)}var a;for(var c=e.length-1;c>=0;c--){a=e[c];if(!a.processed){iAd.Class.processClass(a)}}var d;for(var c=e.length-1;c>=0;c--){d=e[c];if(iAd.Utils.objectHasMethod(d,"initialize")){d.initialize.apply(f)}}};iAd.Class.processClass=function(e){if(e.mixins){iAd.Class.mixin(e.prototype,e.mixins)}var b=e.synthesizedProperties||[];for(var a=0,c=b.length;a<c;a++){iAd.Class.synthesizeProperty(e.prototype,b[a])}for(var d in e.prototype){iAd.Class.processMethod(e,d)}for(d in e){if(e.hasOwnProperty(d)){iAd.Class.processClassMethod(e,d)}}if(e!==iAd.Object){e.prototype.__proto__=e.superclass.prototype}e.processed=true};iAd.Class.synthesizeProperty=function(c,b){var h=b.charAt(0).toUpperCase()+b.substr(1);var e="get"+h;var a="set"+h;var d="_"+b;if(!iAd.Utils.objectHasMethod(c,a)){c[a]=function(i){this[d]=i}}var g=function(i){this[a](i);this.notifyPropertyChange(b)};g.displayName="Setter for ."+b+" on "+c.constructor.displayName;if(!iAd.Utils.objectHasMethod(c,e)){c[e]=function(){return this[d]}}var f=function(){return this[e]()};f.displayName="Getter for ."+b+" on "+c.constructor.displayName;Object.defineProperty(c,b,{get:f,set:g})};iAd.Class.processMethod=function(c,a){var b=Object.getOwnPropertyDescriptor(c.prototype,a).value;if(iAd.Utils.objectIsFunction(b)){b._class=c;b._name=a;if(b.displayName==null){b.displayName=iAd.Utils.createDisplayName(c.displayName,a)}}};iAd.Class.processClassMethod=function(c,a){var b=Object.getOwnPropertyDescriptor(c,a).value;if(iAd.Utils.objectIsFunction(b)&&b.displayName==null){b.displayName=iAd.Utils.createDisplayName(c.displayName,a,true)}};iAd.Class.mixin=function(e,a){var b;for(var c=0,d=a.length;c<d;c++){b=a[c];for(var f in b){if(!e.hasOwnProperty(f)){e[f]=b[f]}}}};iAd.Class.synthesizeProperties=function(d,a){iAd.Class.processClassAndHierarchy(d);for(var b=0,c=a.length;b<c;b++){iAd.Class.synthesizeProperty(d.prototype,a[b])}};iAd.Class.processMethods=function(d,c){iAd.Class.processClassAndHierarchy(d);for(var a=0,b=c.length;a<b;a++){iAd.Class.processMethod(d,c[a])}};iAd.Utils.setupDisplayNames(iAd.Class,"iAd.Class");